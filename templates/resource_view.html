{% extends 'base.html' %}
{% block content %}
<div class="container">
  <div class="card" style="max-width:900px;margin:20px auto;padding:18px">
    <div style="display:flex;justify-content:space-between;align-items:flex-start;gap:12px">
      <div style="flex:1">
        <h2 style="margin:0">{{ resource.title }}</h2>
        <p class="small" style="margin:6px 0 12px 0">By {{ resource.teacher_name or 'Unknown' }} â€¢ {{ resource.type }}</p>
        <div class="lesson-content">{{ resource.content }}</div>
      </div>
      <aside style="width:320px">
        {% if resource.attachment %}
          {% if ext in ['png','jpg','jpeg','gif','webp'] %}
            <div style="border:1px solid #eef7ff;border-radius:8px;overflow:hidden;padding:8px;background:#fff"><img src="/uploads/{{ resource.attachment }}" alt="{{ resource.title }}" style="width:100%;height:auto;display:block" /></div>
          {% elif ext == 'pdf' %}
            <div style="border:1px solid #eef7ff;border-radius:8px;overflow:hidden"><iframe src="/uploads/{{ resource.attachment }}" style="width:100%;height:560px;border:0"></iframe></div>
          {% else %}
            <p class="small">Attachment:</p>
            <a class="btn btn-secondary" href="/uploads/{{ resource.attachment }}" target="_blank" rel="noopener">Open file</a>
          {% endif %}
        {% else %}
          <p class="small">No attachment</p>
        {% endif %}
      </aside>
    </div>
    <div style="margin-top:14px">
      <a href="/dashboard" class="btn btn-secondary">Back to dashboard</a>
    </div>
  </div>
</div>
{% endblock %}
